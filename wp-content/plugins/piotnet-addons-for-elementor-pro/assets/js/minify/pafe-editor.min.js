jQuery(document).ready(function(a){elementor.hooks.addAction("panel/open_editor/widget/pafe-form-builder-field",function(a,e,t){var i=a.$el.find(".elementor-form-field-shortcode"),l=a.$el.find('[data-setting="field_id"]');if(i.length){var n=l.val().trim();""!=n?i.val('[field id="'+n+'"]'):i.val("")}l.on("change, keyup",function(){var a=l.val().trim();""!=a?i.val('[field id="'+a+'"]'):i.val("")})}),elementor.hooks.addAction("panel/open_editor/widget/pafe-form-booking",function(a,e,t){var i=a.$el.find(".elementor-form-field-shortcode"),l=a.$el.find('[data-setting="pafe_form_booking_id"]');if(i.length){var n=l.val().trim();""!=n?i.val('[field id="'+n+'"]'):i.val("")}l.on("change, keyup",function(){var a=l.val().trim();""!=a?i.val('[field id="'+a+'"]'):i.val("")})}),elementor.hooks.addAction("panel/open_editor/section",function(a,e,t){a.$el.on("click",function(){var e=a.$el.find(".elementor-form-field-shortcode"),t=a.$el.find('[data-setting="pafe_form_builder_repeater_id"]'),i=a.$el.find(".elementor-control-pafe_form_builder_repeater_shortcode");if(e.length){var l=t.val().trim();""!=l?e.val('[repeater id="'+l+'"]'):e.val("")}t.on("click, change, keyup",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")}),i.on("click",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")})})}),elementor.hooks.addAction("panel/open_editor/column",function(a,e,t){a.$el.on("click",function(){var e=a.$el.find(".elementor-form-field-shortcode"),t=a.$el.find('[data-setting="pafe_form_builder_repeater_id"]'),i=a.$el.find(".elementor-control-pafe_form_builder_repeater_shortcode");if(e.length){var l=t.val().trim();""!=l?e.val('[repeater id="'+l+'"]'):e.val("")}t.on("click, change, keyup",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")}),i.on("click",function(){var a=t.val().trim();""!=a?e.val('[repeater id="'+a+'"]'):e.val("")})})}),a(document).on("click","[data-pafe-campaign-get-data-list]",function(){a(document).find("[data-pafe-campaign-get-data-list]").addClass("loading");var e=a(this).closest("#elementor-controls"),t=e.find("[data-pafe-campaign-get-data-list-results]");"custom"==e.find('[data-setting="activecampaign_api_key_source"]').val()?(campaign_url=e.find('[data-setting="activecampaign_api_url"]').val(),campaign_key=e.find('[data-setting="activecampaign_api_key"]').val()):(campaign_url=!1,campaign_key=!1);var i={action:"pafe_campaign_select_list",campaign_url:campaign_url,campaign_key:campaign_key};a.post(ajaxurl,i,function(i){i&&(t.html(i),e.find('[data-setting="activecampaign_list"]').change(),a(document).find("[data-pafe-campaign-get-data-list]").removeClass("loading"))})}),a(document).on("keyup, change",'[data-setting="activecampaign_list"]',function(){var e=a(this).closest("#elementor-controls"),t=e.find('[data-setting="activecampaign_api_key_source"]').val(),i=a(this).val();"custom"==t?(campaign_url=e.find('[data-setting="activecampaign_api_url"]').val(),campaign_key=e.find('[data-setting="activecampaign_api_key"]').val()):(campaign_url=!1,campaign_key=!1);var l={action:"pafe_campaign_fields",campaign_url:campaign_url,campaign_key:campaign_key,list_id:i};a.post(ajaxurl,l,function(a){a&&e.find("[data-pafe-campaign-get-fields]").html(a)})}),a(document).on("click","[data-pafe-getresponse-get-data-list]",function(){a("[data-pafe-getresponse-get-data-list]").addClass("loading");var e=a(this).closest("#elementor-controls");if("custom"==e.find('[data-setting="getresponse_api_key_source"]').val())var t=e.find('[data-setting="getresponse_api_key"]').val();else var t=!1;var i={action:"pafe_getresponse_select_list",api:t};a.post(ajaxurl,i,function(e){e&&(a("#pafe-getresponse-list").html(e),a("[data-pafe-getresponse-get-data-list]").removeClass("loading"))})}),a(document).on("click","[data-pafe-getresponse-get-data-custom-fields]",function(){a("[data-pafe-getresponse-get-data-custom-fields]").addClass("loading");var e=a(this).closest("#elementor-controls");if("custom"==e.find('[data-setting="getresponse_api_key_source"]').val())var t=e.find('[data-setting="getresponse_api_key"]').val();else var t=!1;var i={action:"pafe_getresponse_custom_fields",api:t};a.post(ajaxurl,i,function(e){e&&(a("#pafe-getresponse-custom-fields").html(e),a("[data-pafe-getresponse-get-data-custom-fields]").removeClass("loading"))})}),a(document).on("click","[data-pafe-mailchimp-get-data-list]",function(){a(this).addClass("loading");var e=a(this).closest("#elementor-controls");if("custom"==e.find('[data-setting="mailchimp_api_key_source_v3"]').val())var t=e.find('[data-setting="mailchimp_api_key_v3"]').val();else var t=!1;var i={action:"pafe_mailchimp_select_list",api:t};a.post(ajaxurl,i,function(e){e&&(a("[data-pafe-mailchimp-get-data-list-results]").html(e),a("[data-pafe-mailchimp-get-data-list]").removeClass("loading"))})}),a(document).on("click","[data-pafe-mailchimp-get-group-and-field]",function(){a(this).attr("disabled","disabled"),a(this).addClass("loading");var e=a(this).closest("#elementor-controls"),t=e.find('[data-setting="mailchimp_list_id"]').val();if("custom"==e.find('[data-setting="mailchimp_api_key_source_v3"]').val())var i=e.find('[data-setting="mailchimp_api_key_v3"]').val();else var i=!1;var l={action:"pafe_mailchimp_merge_fields",api:i,list_id:t},n={action:"pafe_mailchimp_get_groups",api:i,list_id:t};a.post(ajaxurl,n,function(e){e&&a("[data-pafe-mailchimp-get-groups]").html(e)}),a.post(ajaxurl,l,function(e){e&&(a("[data-pafe-mailchimp-get-data-merge-fields]").html(e),a("[data-pafe-mailchimp-get-group-and-field]").removeClass("loading"),a("[data-pafe-mailchimp-get-group-and-field]").removeAttr("disabled"))})}),a(document).on("click","[data-piotnet-mailpoet-get-custom-fields]",function(){a(this).addClass("loading");var e={action:"pafe_mailpoet_get_custom_fields"};a.post(ajaxurl,e,function(e){e&&(a("[data-piotnet-mailpoet-result-custom-field]").html(e),a("[data-piotnet-mailpoet-get-custom-fields]").removeClass("loading"))})}),a(document).on("click","[data-pafe-zohocrm-get-tag-name]",function(){a(this).addClass("loading"),$parent=a(this).closest("#elementor-controls");var e=$parent.find('[data-setting="zohocrm_module"]').val(),t={action:"zoho_get_tag_name",module:e};a.post(ajaxurl,t,function(e){a("#pafe-zohocrm-tag-name").html(e),a("[data-pafe-zohocrm-get-tag-name]").removeClass("loading")})}),a(document).on("click","[data-pafe-mailerlite_api_get_groups]",function(){a(this).addClass("loading");const e=a(this).closest("#elementor-controls");if("default"===e.find('[data-setting="mailerlite_api_key_source_v2"]').val())var t=!1;else var t=e.find('[data-setting="mailerlite_api_key_v2"]').val();var i={action:"mailerlite_get_groups",apiKey:t};a.post(ajaxurl,i,function(e){e&&a("[data-pafe-mailerlite-api-get-groups-results]").html(e)}),a.post(ajaxurl,{action:"mailerlite_get_fields",apiKey:t},function(e){e&&(a("[data-pafe-mailerlite-api-get-fields-results]").html(e),a("[data-pafe-mailerlite_api_get_groups]").removeClass("loading"))})})});